{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, withModifiers as _withModifiers, normalizeClass as _normalizeClass, vModelRadio as _vModelRadio, withDirectives as _withDirectives, normalizeStyle as _normalizeStyle, vModelSelect as _vModelSelect, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"content container\"\n};\nconst _hoisted_2 = {\n  class: \"loader-wrapper\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"content container\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Проиошла ошибка при загрузке товара. Пожалуйста, попробуйте зайти сюда позже.\", -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = [_hoisted_4];\nconst _hoisted_6 = {\n  key: 2,\n  class: \"content container\"\n};\nconst _hoisted_7 = {\n  class: \"content__top\"\n};\nconst _hoisted_8 = {\n  class: \"breadcrumbs\"\n};\nconst _hoisted_9 = {\n  class: \"breadcrumbs__item\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\" Каталог \");\n\nconst _hoisted_11 = {\n  class: \"breadcrumbs__item\"\n};\nconst _hoisted_12 = {\n  class: \"breadcrumbs__item\"\n};\nconst _hoisted_13 = {\n  class: \"breadcrumbs__link\"\n};\nconst _hoisted_14 = {\n  class: \"item\"\n};\nconst _hoisted_15 = {\n  class: \"item__pics pics\"\n};\nconst _hoisted_16 = {\n  class: \"pics__wrapper\"\n};\nconst _hoisted_17 = [\"src\", \"alt\"];\nconst _hoisted_18 = {\n  class: \"pics__list\"\n};\nconst _hoisted_19 = [\"onClick\"];\nconst _hoisted_20 = [\"src\", \"alt\"];\nconst _hoisted_21 = {\n  class: \"item__info\"\n};\nconst _hoisted_22 = {\n  class: \"item__code\"\n};\nconst _hoisted_23 = {\n  class: \"item__title\"\n};\nconst _hoisted_24 = {\n  class: \"item__form\"\n};\nconst _hoisted_25 = {\n  class: \"form\",\n  action: \"#\",\n  method: \"POST\"\n};\nconst _hoisted_26 = {\n  class: \"item__row item__row--center\"\n};\nconst _hoisted_27 = {\n  class: \"item__price\"\n};\nconst _hoisted_28 = {\n  class: \"item__row\"\n};\nconst _hoisted_29 = {\n  class: \"form__block\"\n};\n\nconst _hoisted_30 = /*#__PURE__*/_createElementVNode(\"legend\", {\n  class: \"form__legend\"\n}, \"Цвет\", -1\n/* HOISTED */\n);\n\nconst _hoisted_31 = {\n  class: \"colors colors--black\"\n};\nconst _hoisted_32 = {\n  class: \"colors__label\"\n};\nconst _hoisted_33 = [\"value\", \"checked\"];\nconst _hoisted_34 = {\n  class: \"form__block\"\n};\n\nconst _hoisted_35 = /*#__PURE__*/_createElementVNode(\"legend\", {\n  class: \"form__legend\"\n}, \"Размер\", -1\n/* HOISTED */\n);\n\nconst _hoisted_36 = {\n  class: \"form__label form__label--small form__label--select\"\n};\nconst _hoisted_37 = [\"value\"];\nconst _hoisted_38 = [\"disabled\"];\nconst _hoisted_39 = {\n  key: 0\n};\nconst _hoisted_40 = {\n  key: 1\n};\nconst _hoisted_41 = {\n  key: 2\n};\nconst _hoisted_42 = {\n  class: \"item__desc\"\n};\nconst _hoisted_43 = {\n  class: \"tabs\"\n};\nconst _hoisted_44 = {\n  class: \"tabs__item\"\n};\nconst _hoisted_45 = {\n  class: \"tabs__item\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_base_loader = _resolveComponent(\"base-loader\");\n\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  const _component_base_item_counter = _resolveComponent(\"base-item-counter\");\n\n  return $data.isLoading ? (_openBlock(), _createElementBlock(\"main\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_base_loader)])])) : $data.isLoadingFailed ? (_openBlock(), _createElementBlock(\"main\", _hoisted_3, _hoisted_5)) : (_openBlock(), _createElementBlock(\"main\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"ul\", _hoisted_8, [_createElementVNode(\"li\", _hoisted_9, [_createVNode(_component_router_link, {\n    class: \"breadcrumbs__link\",\n    to: {\n      name: 'main'\n    }\n  }, {\n    default: _withCtx(() => [_hoisted_10]),\n    _: 1\n    /* STABLE */\n\n  })]), _createElementVNode(\"li\", _hoisted_11, [_createVNode(_component_router_link, {\n    class: \"breadcrumbs__link\",\n    to: {\n      name: 'main',\n      query: {\n        'categoryId': $options.product.category.id\n      }\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($options.product.category.title), 1\n    /* TEXT */\n    )]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"to\"])]), _createElementVNode(\"li\", _hoisted_12, [_createElementVNode(\"a\", _hoisted_13, _toDisplayString($options.product.title), 1\n  /* TEXT */\n  )])])]), _createElementVNode(\"section\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"img\", {\n    width: \"570\",\n    height: \"570\",\n    src: $options.gallery[$data.activeColorIdx].image,\n    alt: $options.product.title\n  }, null, 8\n  /* PROPS */\n  , _hoisted_17)]), _createElementVNode(\"ul\", _hoisted_18, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.gallery, image => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"pics__item\",\n      key: image.id\n    }, [_createElementVNode(\"a\", {\n      href: \"\",\n      class: _normalizeClass([\"pics__link\", {\n        'pics__link--current': image.id === $options.activeColorId\n      }]),\n      onClick: _withModifiers($event => $options.changeImg(image.id), [\"prevent\"])\n    }, [_createElementVNode(\"img\", {\n      width: \"98\",\n      height: \"98\",\n      src: image.image,\n      alt: $options.product.title\n    }, null, 8\n    /* PROPS */\n    , _hoisted_20)], 10\n    /* CLASS, PROPS */\n    , _hoisted_19)]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])]), _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"span\", _hoisted_22, \"Артикул: \" + _toDisplayString($options.product.id), 1\n  /* TEXT */\n  ), _createElementVNode(\"h2\", _hoisted_23, _toDisplayString($options.product.title), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"form\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_createVNode(_component_base_item_counter, {\n    modelValue: $data.productAmount,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.productAmount = $event),\n    itemAmount: $data.productAmount,\n    onChangeItemAmount: $options.setItemAmount\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\", \"itemAmount\", \"onChangeItemAmount\"]), _createElementVNode(\"b\", _hoisted_27, _toDisplayString($options.product.price) + \" ₽ \", 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"fieldset\", _hoisted_29, [_hoisted_30, _createElementVNode(\"ul\", _hoisted_31, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.product.colors, color => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"colors__item\",\n      key: color.id\n    }, [_createElementVNode(\"label\", _hoisted_32, [_withDirectives(_createElementVNode(\"input\", {\n      class: \"colors__radio sr-only\",\n      type: \"radio\",\n      name: \"color\",\n      value: color.color.id,\n      checked: $options.activeColorId === color.color.id,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $options.activeColorId = $event)\n    }, null, 8\n    /* PROPS */\n    , _hoisted_33), [[_vModelRadio, $options.activeColorId]]), _createElementVNode(\"span\", {\n      class: \"colors__value\",\n      style: _normalizeStyle({\n        'background-color': color.color.code\n      })\n    }, null, 4\n    /* STYLE */\n    )])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])]), _createElementVNode(\"fieldset\", _hoisted_34, [_hoisted_35, _createElementVNode(\"label\", _hoisted_36, [_withDirectives(_createElementVNode(\"select\", {\n    class: \"form__select\",\n    type: \"text\",\n    name: \"category\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $options.activeSizeId = $event)\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.product.sizes, size => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      value: size.id,\n      key: size.id\n    }, _toDisplayString(size.title), 9\n    /* TEXT, PROPS */\n    , _hoisted_37);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))], 512\n  /* NEED_PATCH */\n  ), [[_vModelSelect, $options.activeSizeId]])])])]), _createElementVNode(\"button\", {\n    class: \"item__button button button--primery\",\n    type: \"submit\",\n    disabled: $data.isSending,\n    onClick: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.addToCart && $options.addToCart(...args), [\"prevent\"]))\n  }, \" В корзину \", 8\n  /* PROPS */\n  , _hoisted_38), $data.isSending ? (_openBlock(), _createElementBlock(\"p\", _hoisted_39, \"Добавляем товар в корзину...\")) : _createCommentVNode(\"v-if\", true), $data.isSendingFailed ? (_openBlock(), _createElementBlock(\"p\", _hoisted_40, \"Произошла ошибка при добавлении товара в корзину. Попробуйте ещё раз!\")) : $data.isAdded ? (_openBlock(), _createElementBlock(\"p\", _hoisted_41, \"Товар успешно добавлен в корзину!\")) : _createCommentVNode(\"v-if\", true)])])]), _createElementVNode(\"div\", _hoisted_42, [_createElementVNode(\"ul\", _hoisted_43, [_createElementVNode(\"li\", _hoisted_44, [_createElementVNode(\"a\", {\n    class: _normalizeClass([\"tabs__link\", {\n      'tabs__link--current': $data.selectedTab === 'base-item-content'\n    }]),\n    onClick: _cache[4] || (_cache[4] = $event => $options.setSelectedComponent('base-item-content'))\n  }, \" Информация о товаре \", 2\n  /* CLASS */\n  )]), _createElementVNode(\"li\", _hoisted_45, [_createElementVNode(\"a\", {\n    class: _normalizeClass([\"tabs__link\", {\n      'tabs__link--current': $data.selectedTab === 'base-item-delivery'\n    }]),\n    onClick: _cache[5] || (_cache[5] = $event => $options.setSelectedComponent('base-item-delivery'))\n  }, \" Доставка и возврат \", 2\n  /* CLASS */\n  )])]), (_openBlock(), _createBlock(_resolveDynamicComponent($data.selectedTab)))])])]));\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","_hoisted_4","action","method","$data","_createElementBlock","_createVNode","_component_base_loader","_hoisted_5","_component_router_link","to","name","query","$options","category","id","title","_toDisplayString","width","height","src","image","alt","_Fragment","_renderList","key","href","onClick","_component_base_item_counter","$event","itemAmount","onChangeItemAmount","price","_hoisted_30","colors","color","type","value","checked","style","code","_hoisted_35","sizes","size","_hoisted_37","disabled","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_createBlock","_resolveDynamicComponent"],"sourceRoot":"","sources":["D:\\задание\\final_examination_vue.js_dpo\\project\\mue\\src\\pages\\ProductPage.vue"],"sourcesContent":["<template>\r\n  <main class=\"content container\" v-if=\"isLoading\">\r\n    <div class=\"loader-wrapper\">\r\n      <base-loader></base-loader>\r\n    </div>\r\n  </main>\r\n  <main class=\"content container\" v-else-if=\"isLoadingFailed\">\r\n    <h1>Проиошла ошибка при загрузке товара. Пожалуйста, попробуйте зайти сюда позже.</h1>\r\n  </main>\r\n  <main class=\"content container\" v-else>\r\n    <div class=\"content__top\">\r\n      <ul class=\"breadcrumbs\">\r\n        <li class=\"breadcrumbs__item\">\r\n          <router-link class=\"breadcrumbs__link\" :to=\"{ name: 'main' }\">\r\n            Каталог\r\n          </router-link>\r\n        </li>\r\n        <li class=\"breadcrumbs__item\">\r\n          <router-link class=\"breadcrumbs__link\" :to=\"{ name: 'main', query: { 'categoryId': product.category.id } }\">\r\n            {{ product.category.title }}\r\n          </router-link>\r\n        </li>\r\n        <li class=\"breadcrumbs__item\">\r\n          <a class=\"breadcrumbs__link\">\r\n            {{ product.title }}\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n    <section class=\"item\">\r\n      <div class=\"item__pics pics\">\r\n        <div class=\"pics__wrapper\">\r\n          <img width=\"570\" height=\"570\" :src=\"gallery[activeColorIdx].image\" :alt=\"product.title\">\r\n        </div>\r\n        <ul class=\"pics__list\">\r\n          <li class=\"pics__item\" v-for=\"image in gallery\" :key=\"image.id\">\r\n            <a href=\"\" class=\"pics__link\" :class=\"{ 'pics__link--current': image.id === activeColorId }\" @click.prevent=\"changeImg(image.id)\">\r\n              <img width=\"98\" height=\"98\" :src=\"image.image\" :alt=\"product.title\">\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div class=\"item__info\">\r\n        <span class=\"item__code\">Артикул: {{ product.id }}</span>\r\n        <h2 class=\"item__title\">\r\n          {{ product.title }}\r\n        </h2>\r\n        <div class=\"item__form\">\r\n          <form class=\"form\" action=\"#\" method=\"POST\">\r\n            <div class=\"item__row item__row--center\">\r\n              <base-item-counter v-model=\"productAmount\" :itemAmount=\"productAmount\" @change-item-amount=\"setItemAmount\"></base-item-counter>\r\n              \r\n              <b class=\"item__price\">\r\n                {{ product.price }} ₽\r\n              </b>\r\n            </div>\r\n\r\n            <div class=\"item__row\">\r\n              <fieldset class=\"form__block\">\r\n                <legend class=\"form__legend\">Цвет</legend>\r\n                <ul class=\"colors colors--black\">\r\n                  <li class=\"colors__item\" v-for=\"color in product.colors\" :key=\"color.id\">\r\n                    <label class=\"colors__label\">\r\n                      <input class=\"colors__radio sr-only\" type=\"radio\" name=\"color\" :value=\"color.color.id\" :checked=\"activeColorId === color.color.id\" v-model=\"activeColorId\">\r\n                      <span class=\"colors__value\" :style=\"{ 'background-color': color.color.code}\">\r\n                      </span>\r\n                    </label>\r\n                  </li>\r\n                </ul>\r\n              </fieldset>\r\n\r\n              <fieldset class=\"form__block\">\r\n                <legend class=\"form__legend\">Размер</legend>\r\n                <label class=\"form__label form__label--small form__label--select\">\r\n                  <select class=\"form__select\" type=\"text\" name=\"category\" v-model=\"activeSizeId\">\r\n                    <option :value=\"size.id\" v-for=\"size in product.sizes\" :key=\"size.id\">{{ size.title }}</option>\r\n                  </select>\r\n                </label>\r\n              </fieldset>\r\n            </div>\r\n            \r\n            <button class=\"item__button button button--primery\" type=\"submit\" :disabled=\"isSending\" @click.prevent=\"addToCart\">\r\n              В корзину\r\n            </button>\r\n            <p v-if=\"isSending\">Добавляем товар в корзину...</p>\r\n            <p v-if=\"isSendingFailed\">Произошла ошибка при добавлении товара в корзину. Попробуйте ещё раз!</p>\r\n            <p v-else-if=\"isAdded\">Товар успешно добавлен в корзину!</p>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"item__desc\">\r\n        <ul class=\"tabs\">\r\n          <li class=\"tabs__item\">\r\n            <a class=\"tabs__link\" :class=\"{'tabs__link--current': selectedTab === 'base-item-content'}\" @click=\"setSelectedComponent('base-item-content')\">\r\n              Информация о товаре\r\n            </a>\r\n          </li>\r\n          <li class=\"tabs__item\">\r\n            <a class=\"tabs__link\" :class=\"{'tabs__link--current': selectedTab === 'base-item-delivery'}\" @click=\"setSelectedComponent('base-item-delivery')\">\r\n              Доставка и возврат\r\n            </a>\r\n          </li>\r\n        </ul>\r\n        \r\n        <component :is=\"selectedTab\"></component>\r\n      </div>\r\n    </section>\r\n  </main> \r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { API_URL } from '@/config.js';\r\nimport BaseItemCounter from '@/components/BaseItemCounter.vue';\r\nimport BaseItemContent from '@/components/BaseItemContent.vue';\r\nimport BaseItemDelivery from '@/components/BaseItemDelivery.vue';\r\n\r\nexport default {\r\n  components: { BaseItemCounter, BaseItemContent, BaseItemDelivery },\r\n  data() {\r\n    return {\r\n      productAmount: 1,\r\n      isLoading: false,\r\n      isLoadingFailed: false,\r\n      isSending: false,\r\n      isSendingFailed: false,\r\n      isAdded: false,\r\n      productData: null,\r\n      activeColorIdx: 0,\r\n      activeSizeIdx: 0,\r\n      selectedTab: 'base-item-content',\r\n    }\r\n  },\r\n  computed: {\r\n    product() {\r\n      return {\r\n        ...this.productData,\r\n        gallery: this.productData.colors.map(color => {\r\n          return {\r\n            id: color.color.id,\r\n            image: color.gallery ? color.gallery[0].file.url : 'https://westsiderc.org/wp-content/uploads/2019/08/Image-Not-Available.png'\r\n          }\r\n        })\r\n      };\r\n    },\r\n    gallery() {\r\n      return this.product.gallery;\r\n    },\r\n    activeColorId: {\r\n      get() {\r\n        return this.gallery[this.activeColorIdx].id;\r\n      },\r\n      set(id) {\r\n        const idx = this.gallery.findIndex((item) => item.id === id);\r\n        this.activeColorIdx = idx;\r\n      }\r\n    },\r\n    activeSizeId: {\r\n      get() {\r\n        return this.product.sizes[this.activeSizeIdx].id;\r\n      },\r\n      set(id) {\r\n        const idx = this.product.sizes.findIndex((item) => item.id === id);\r\n        this.activeSizeIdx = idx;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async loadProduct() {\r\n      this.isLoading = true;\r\n      this.isLoadingFailed = false;\r\n      try {\r\n        const { data } = await axios.get(`${API_URL}/products/${this.$route.params.id}`);\r\n        console.log(data);\r\n        this.productData = data;\r\n      } catch(err) {\r\n        this.isLoading = false;\r\n        this.isLoadingFailed = true;\r\n      }\r\n      this.isLoading = false;\r\n    },\r\n    setItemAmount(val) {\r\n      this.productAmount = val;\r\n    },\r\n    changeImg(id) {\r\n      const idx = this.gallery.findIndex((item) => item.id === id);\r\n      this.activeColorIdx = idx;\r\n    },\r\n    async addToCart() {\r\n      this.isSending = true;\r\n      this.isAdded = false;\r\n      this.isSendingFailed = false;\r\n      try {\r\n        await this.$store.dispatch('addToCart', {\r\n          productId: this.product.id,\r\n          colorId: this.activeColorId,\r\n          sizeId: this.activeSizeId,\r\n          quantity: this.productAmount\r\n        });\r\n      } catch(err) {\r\n        this.isSendingFailed = true;\r\n      }\r\n      this.isSending = false;\r\n      this.isAdded = true;\r\n    },\r\n    setSelectedComponent(val) {\r\n      this.selectedTab = val;\r\n    }\r\n  },\r\n  created() {\r\n    this.loadProduct();\r\n  }\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}