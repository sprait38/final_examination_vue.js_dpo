{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, vModelCheckbox as _vModelCheckbox, normalizeStyle as _normalizeStyle, createTextVNode as _createTextVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"filter\"\n};\nconst _hoisted_2 = {\n  class: \"loader-wrapper\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"filter\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Произошла ошибка при загрузке фильтров! Попробуйте перезагрузить страницу.\", -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = [_hoisted_4];\nconst _hoisted_6 = {\n  key: 2,\n  class: \"filter\"\n};\nconst _hoisted_7 = {\n  class: \"form__block\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"legend\", {\n  class: \"form__legend\"\n}, \"Цена\", -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = {\n  class: \"form__label form__label--price\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"form__value\"\n}, \"От\", -1\n/* HOISTED */\n);\n\nconst _hoisted_11 = {\n  class: \"form__label form__label--price\"\n};\n\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"form__value\"\n}, \"До\", -1\n/* HOISTED */\n);\n\nconst _hoisted_13 = {\n  class: \"form__block\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"legend\", {\n  class: \"form__legend\"\n}, \"Категория\", -1\n/* HOISTED */\n);\n\nconst _hoisted_15 = {\n  class: \"form__label form__label--select\"\n};\n\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"0\"\n}, \"Все категории\", -1\n/* HOISTED */\n);\n\nconst _hoisted_17 = [\"value\"];\nconst _hoisted_18 = {\n  class: \"form__block\"\n};\n\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"legend\", {\n  class: \"form__legend\"\n}, \"Цвет\", -1\n/* HOISTED */\n);\n\nconst _hoisted_20 = {\n  class: \"colors colors--black\"\n};\nconst _hoisted_21 = {\n  class: \"colors__label\"\n};\nconst _hoisted_22 = [\"value\"];\nconst _hoisted_23 = {\n  class: \"form__block\"\n};\n\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"legend\", {\n  class: \"form__legend\"\n}, \"Материал\", -1\n/* HOISTED */\n);\n\nconst _hoisted_25 = {\n  class: \"check-list\"\n};\nconst _hoisted_26 = {\n  class: \"check-list__label\"\n};\nconst _hoisted_27 = [\"value\"];\nconst _hoisted_28 = {\n  class: \"check-list__desc\"\n};\nconst _hoisted_29 = {\n  class: \"form__block\"\n};\n\nconst _hoisted_30 = /*#__PURE__*/_createElementVNode(\"legend\", {\n  class: \"form__legend\"\n}, \"Коллекция\", -1\n/* HOISTED */\n);\n\nconst _hoisted_31 = {\n  class: \"check-list\"\n};\nconst _hoisted_32 = {\n  class: \"check-list__label\"\n};\nconst _hoisted_33 = [\"value\"];\nconst _hoisted_34 = {\n  class: \"check-list__desc\"\n};\n\nconst _hoisted_35 = /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"filter__submit button button--primery\",\n  type: \"submit\"\n}, \" Применить \", -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_base_loader = _resolveComponent(\"base-loader\");\n\n  return $options.isLoading ? (_openBlock(), _createElementBlock(\"aside\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_base_loader)])])) : $options.isLoadingFailed ? (_openBlock(), _createElementBlock(\"aside\", _hoisted_3, _hoisted_5)) : (_openBlock(), _createElementBlock(\"aside\", _hoisted_6, [_createElementVNode(\"form\", {\n    class: \"filter__form form\",\n    action: \"#\",\n    method: \"get\",\n    onSubmit: _cache[7] || (_cache[7] = _withModifiers((...args) => $options.setFilters && $options.setFilters(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"fieldset\", _hoisted_7, [_hoisted_8, _createElementVNode(\"label\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"form__input\",\n    type: \"text\",\n    name: \"min-price\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.currentPriceFrom = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.currentPriceFrom, void 0, {\n    number: true\n  }]]), _hoisted_10]), _createElementVNode(\"label\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"form__input\",\n    type: \"text\",\n    name: \"max-price\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.currentPriceTo = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.currentPriceTo, void 0, {\n    number: true\n  }]]), _hoisted_12])]), _createElementVNode(\"fieldset\", _hoisted_13, [_hoisted_14, _createElementVNode(\"label\", _hoisted_15, [_withDirectives(_createElementVNode(\"select\", {\n    class: \"form__select\",\n    type: \"text\",\n    name: \"category\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.currentCategoryId = $event)\n  }, [_hoisted_16, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.categories, category => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: category.id,\n      value: category.id\n    }, _toDisplayString(category.title), 9\n    /* TEXT, PROPS */\n    , _hoisted_17);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))], 512\n  /* NEED_PATCH */\n  ), [[_vModelSelect, $data.currentCategoryId]])])]), _createElementVNode(\"fieldset\", _hoisted_18, [_hoisted_19, _createElementVNode(\"ul\", _hoisted_20, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.colors, color => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"colors__item\",\n      key: color.id\n    }, [_createElementVNode(\"label\", _hoisted_21, [_withDirectives(_createElementVNode(\"input\", {\n      class: \"colors__radio sr-only\",\n      type: \"checkbox\",\n      name: \"color\",\n      value: color.id,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.currentColorId = $event)\n    }, null, 8\n    /* PROPS */\n    , _hoisted_22), [[_vModelCheckbox, $data.currentColorId]]), _createElementVNode(\"span\", {\n      class: \"colors__value\",\n      style: _normalizeStyle({\n        'background-color': color.code\n      })\n    }, null, 4\n    /* STYLE */\n    )])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])]), _createElementVNode(\"fieldset\", _hoisted_23, [_hoisted_24, _createElementVNode(\"ul\", _hoisted_25, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.materials, material => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"check-list__item\",\n      key: material.id\n    }, [_createElementVNode(\"label\", _hoisted_26, [_withDirectives(_createElementVNode(\"input\", {\n      class: \"check-list__check sr-only\",\n      type: \"checkbox\",\n      name: \"material\",\n      value: material.id,\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.currentMaterialId = $event)\n    }, null, 8\n    /* PROPS */\n    , _hoisted_27), [[_vModelCheckbox, $data.currentMaterialId]]), _createElementVNode(\"span\", _hoisted_28, [_createTextVNode(_toDisplayString(material.title) + \" \", 1\n    /* TEXT */\n    ), _createElementVNode(\"span\", null, \"(\" + _toDisplayString(material.productsCount) + \")\", 1\n    /* TEXT */\n    )])])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])]), _createElementVNode(\"fieldset\", _hoisted_29, [_hoisted_30, _createElementVNode(\"ul\", _hoisted_31, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.seasons, season => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"check-list__item\",\n      key: season.id\n    }, [_createElementVNode(\"label\", _hoisted_32, [_withDirectives(_createElementVNode(\"input\", {\n      class: \"check-list__check sr-only\",\n      type: \"checkbox\",\n      name: \"collection\",\n      value: season.id,\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.currentSeasonId = $event)\n    }, null, 8\n    /* PROPS */\n    , _hoisted_33), [[_vModelCheckbox, $data.currentSeasonId]]), _createElementVNode(\"span\", _hoisted_34, [_createTextVNode(_toDisplayString(season.title) + \" \", 1\n    /* TEXT */\n    ), _createElementVNode(\"span\", null, \"(\" + _toDisplayString(season.productsCount) + \")\", 1\n    /* TEXT */\n    )])])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])]), _hoisted_35, $options.isResetBtnVisible ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    class: \"filter__reset button button--second\",\n    type: \"button\",\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.resetFilters && $options.resetFilters(...args))\n  }, \" Сбросить \")) : _createCommentVNode(\"v-if\", true)], 32\n  /* HYDRATE_EVENTS */\n  )]));\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","_hoisted_4","value","type","$options","_createElementBlock","_createVNode","_component_base_loader","_hoisted_5","action","method","onSubmit","_hoisted_8","name","$data","$event","_hoisted_10","_hoisted_12","_hoisted_14","_hoisted_16","_Fragment","_renderList","category","key","id","title","_hoisted_17","_hoisted_19","color","style","code","_hoisted_24","material","_toDisplayString","productsCount","_hoisted_30","season","_hoisted_35","onClick"],"sourceRoot":"","sources":["D:\\задание\\final_examination_vue.js_dpo\\project\\mue\\src\\components\\ProductsFilter.vue"],"sourcesContent":["<template>\r\n  <aside class=\"filter\" v-if=\"isLoading\">\r\n    <div class=\"loader-wrapper\">\r\n      <base-loader></base-loader>\r\n    </div>\r\n  </aside>\r\n  <aside class=\"filter\" v-else-if=\"isLoadingFailed\">\r\n    <h2>Произошла ошибка при загрузке фильтров! Попробуйте перезагрузить страницу.</h2>\r\n  </aside>\r\n  <aside class=\"filter\" v-else>\r\n    <form class=\"filter__form form\" action=\"#\" method=\"get\" @submit.prevent=\"setFilters\">\r\n      <fieldset class=\"form__block\">\r\n        <legend class=\"form__legend\">Цена</legend>\r\n        <label class=\"form__label form__label--price\">\r\n          <input class=\"form__input\" type=\"text\" name=\"min-price\" v-model.number=\"currentPriceFrom\">\r\n          <span class=\"form__value\">От</span>\r\n        </label>\r\n        <label class=\"form__label form__label--price\">\r\n          <input class=\"form__input\" type=\"text\" name=\"max-price\" v-model.number=\"currentPriceTo\">\r\n          <span class=\"form__value\">До</span>\r\n        </label>\r\n      </fieldset>\r\n\r\n      <fieldset class=\"form__block\">\r\n        <legend class=\"form__legend\">Категория</legend>\r\n        <label class=\"form__label form__label--select\">\r\n          <select class=\"form__select\" type=\"text\" name=\"category\" v-model=\"currentCategoryId\">\r\n            <option value=\"0\">Все категории</option>\r\n            <option v-for=\"category in categories\" :key=\"category.id\" :value=\"category.id\">{{ category.title }}</option>\r\n          </select>\r\n        </label>\r\n      </fieldset>\r\n\r\n      <fieldset class=\"form__block\">\r\n        <legend class=\"form__legend\">Цвет</legend>\r\n        <ul class=\"colors colors--black\">\r\n          <li class=\"colors__item\" v-for=\"color in colors\" :key=\"color.id\">\r\n            <label class=\"colors__label\">\r\n              <input class=\"colors__radio sr-only\" type=\"checkbox\" name=\"color\" :value=\"color.id\" v-model=\"currentColorId\">\r\n              <span class=\"colors__value\" :style=\"{'background-color': color.code}\">\r\n              </span>\r\n            </label>\r\n          </li>\r\n        </ul>\r\n      </fieldset>\r\n\r\n      <fieldset class=\"form__block\">\r\n        <legend class=\"form__legend\">Материал</legend>\r\n        <ul class=\"check-list\">          \r\n          <li class=\"check-list__item\" v-for=\"material in materials\" :key=\"material.id\">\r\n            <label class=\"check-list__label\">\r\n              <input class=\"check-list__check sr-only\" type=\"checkbox\" name=\"material\" :value=\"material.id\" v-model=\"currentMaterialId\">\r\n              <span class=\"check-list__desc\">\r\n                {{ material.title }} \r\n                <span>({{ material.productsCount }})</span>\r\n              </span>\r\n            </label>\r\n          </li>\r\n        </ul>\r\n      </fieldset>\r\n\r\n      <fieldset class=\"form__block\">\r\n        <legend class=\"form__legend\">Коллекция</legend>\r\n        <ul class=\"check-list\">\r\n          <li class=\"check-list__item\" v-for=\"season in seasons\" :key=\"season.id\">\r\n            <label class=\"check-list__label\">\r\n              <input class=\"check-list__check sr-only\" type=\"checkbox\" name=\"collection\" :value=\"season.id\" v-model=\"currentSeasonId\">\r\n              <span class=\"check-list__desc\">\r\n                {{ season.title }} \r\n                <span>({{ season.productsCount }})</span>\r\n              </span>\r\n            </label>\r\n          </li>\r\n        </ul>\r\n      </fieldset>\r\n\r\n      <button class=\"filter__submit button button--primery\" type=\"submit\">\r\n        Применить\r\n      </button>\r\n      <button class=\"filter__reset button button--second\" type=\"button\" @click=\"resetFilters\" v-if=\"isResetBtnVisible\">\r\n        Сбросить\r\n      </button>\r\n    </form>\r\n  </aside>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  emits: ['change-filters'],\r\n  props: ['filters'],\r\n  data() {\r\n    return {\r\n      currentPriceFrom: this.filters.filterPriceFrom,\r\n      currentPriceTo: this.filters.filterPriceTo,\r\n      currentCategoryId: this.filters.filterCategoryId,\r\n      currentColorId: this.filters.filterColorId,\r\n      currentMaterialId: this.filters.filterMaterialId,\r\n      currentSeasonId: this.filters.filterSeasonId\r\n    }\r\n  },\r\n  computed: {\r\n    colors() {\r\n      return this.$store.state.colorsData;\r\n    },\r\n    materials() {\r\n      return this.$store.state.materialsData;\r\n    },\r\n    seasons() {\r\n      return this.$store.state.seasonsData;\r\n    },\r\n    categories() {\r\n      return this.$store.state.categoriesData;\r\n    },\r\n    productFilters() {\r\n      return {\r\n        filterPriceFrom: this.currentPriceFrom,\r\n        filterPriceTo: this.currentPriceTo,\r\n        filterCategoryId: this.currentCategoryId,\r\n        filterColorId: this.currentColorId,\r\n        filterMaterialId: this.currentMaterialId,\r\n        filterSeasonId: this.currentSeasonId\r\n      }\r\n    },\r\n    isLoading() {\r\n      return this.$store.state.areFiltersLoading;\r\n    },\r\n    isLoadingFailed() {\r\n      return this.$store.state.areFiltersLoadingFailed;\r\n    },\r\n    isResetBtnVisible() {\r\n      return Object.values(this.filters).some(filter => filter.length !== undefined ? filter.length : filter);\r\n    }\r\n  },\r\n  methods: {\r\n    async loadFilters() {\r\n      this.$store.dispatch('loadFilters');\r\n    },\r\n    setFilters() {\r\n      this.$emit('change-filters', this.productFilters);\r\n    },\r\n    resetFilters() {\r\n      this.currentPriceFrom = 0;\r\n      this.currentPriceTo = 0;\r\n      this.currentCategoryId = 0;\r\n      this.currentColorId = [];\r\n      this.currentMaterialId = [];\r\n      this.currentSeasonId = [];\r\n      this.$router.replace({'query': null});\r\n      this.setFilters();\r\n    }\r\n  },\r\n  created() {\r\n    this.$store.dispatch('loadFilters');\r\n  }\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}